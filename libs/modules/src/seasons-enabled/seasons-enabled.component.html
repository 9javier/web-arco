<ion-content>
  <div class="incidences-container" >
    <mat-table [dataSource]="dataSource" matSort multiTemplateDataRows class="table-incidences">

      <ng-container matColumnDef="Temporada">
        <mat-header-cell class="my-sticky-col info" *matHeaderCellDef mat-sort-header> Temporada
          <suite-filter-button class="ion-margin-vertical" #filterButtonSeasons [title]="'Temporada'" [listItems]="seasons"
                              [isFiltering]="isFilteringSeasons != seasons.length"
                              (applyFilters)="applyFilters($event, 'seasons')">
          </suite-filter-button>
        </mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info"> {{element.name}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="Habilitada">
        <mat-header-cell class="my-sticky-col info" *matHeaderCellDef mat-sort-header> Habilitada
          <suite-filter-button #filterButtonEnableds class="filter" [title]="'Habilitada'" [listItems]="enableds"
                              [isFiltering]="isFilteringEnableds != enableds.length"
                              (applyFilters)="applyFilters($event, 'enableds')">
          </suite-filter-button>
        </mat-header-cell>
        <mat-cell *matCellDef="let element; let i = dataIndex" class="my-sticky-col info">
          <ion-checkbox [formControl]="toUpdate['controls']?.seasons['controls'][i]['controls']?.selected">
          </ion-checkbox>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;" class="incidence-row">
      </mat-row>
    </mat-table>


  </div>
  <suite-paginator [pagerValues]="pagerValues"></suite-paginator>
</ion-content>

<ion-footer>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button matTooltip="Reiniciar Filtros" matTooltipClass="tooltip" (click)="refreshTable()">
      <ion-icon name="refresh"></ion-icon>
    </ion-fab-button>
    <ion-fab-button matTooltip="Guardar" matTooltipClass="tooltip" (click)="update()">
      <ion-icon name="save"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-footer>
