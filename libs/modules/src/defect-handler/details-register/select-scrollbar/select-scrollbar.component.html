<cdk-virtual-scroll-viewport itemSize="allOptions.length">

  <div class="div-scroll"
    *cdkVirtualFor="let option of allOptions"
    (click)="select(option)" >

    <ng-template [ngIf]="!optionTpl" >{{ option.name }}</ng-template>

    <ng-template *ngTemplateOutlet="optionTpl; context: {$implicit: option}">
    </ng-template>
  </div>

</cdk-virtual-scroll-viewport>

