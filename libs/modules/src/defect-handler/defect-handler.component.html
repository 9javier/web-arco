<form *ngIf="showFiltersMobileVersion" [formGroup]="form">
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <ion-label>Producto:</ion-label>
        <suite-tags-input placeholder="Producto" [options]="product" formControlName="product" multiple="true">
        </suite-tags-input>
      </ion-col>
      <ion-col size="6">
        <ion-label>Modelo:</ion-label>
        <suite-tags-input placeholder="Modelo" [options]="model" formControlName="model"
                          multiple="true"></suite-tags-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-label>Talla:</ion-label>
        <suite-tags-input placeholder="Talla" [options]="size" formControlName="size"
                          multiple="true">
        </suite-tags-input>
      </ion-col>
      <ion-col size="6">
        <ion-label>Color:</ion-label>
        <suite-tags-input placeholder="Color" [options]="color" formControlName="color" multiple="true">
        </suite-tags-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-label>Marca:</ion-label>
        <suite-tags-input placeholder="Marca" [options]="brand" formControlName="brand" multiple="true">
        </suite-tags-input>
      </ion-col>
      <ion-col size="6">
        <ion-label>Estado:</ion-label>
        <ion-item class="item-filter">
          <ion-select formControlName="statusManagementDefect" placeholder="Filtrar">
            <ion-select-option *ngFor="let status of statusManagementDefect; let i = index" [value]="status.id" [attr.selected]="!i">
              {{ status.name }}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-label>Contacto:</ion-label>
        <suite-tags-input placeholder="Contacto" [options]="contact" formControlName="contact" multiple="true">
        </suite-tags-input>
      </ion-col>
      <ion-col size="6">
        <ion-label>Ordenar:</ion-label>
        <ion-item formGroupName="orderby" class="item-filter">
          <ion-select formControlName="type" interface="popover" placeholder="Ordenar">
            <ion-select-option value="{{group.id}}" *ngFor="let group of groups">{{group.name}}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="btn-remove" size="6">
        <ion-button (click)="clearFilters()">
          Resetear
        </ion-button>
      </ion-col>
      <ion-col class="btn-apply" size="6">
        <ion-button (click)="applyFilters()" class="ion-float-right">
          Aplicar
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</form>
<ion-content >
  <div >
    <table mat-table [dataSource]="dataSource" style="width: 100%;">
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef >
          ID
        </th>
        <td mat-cell *matCellDef="let defect" (click)="goDefect(defect)">
          {{ defect?.autoId }}
        </td>
      </ng-container>
      <ng-container matColumnDef="product">
        <th mat-header-cell *matHeaderCellDef >
          Art√≠culo
        </th>
        <td mat-cell *matCellDef="let defect" (click)="goDefect(defect)">
          {{ defect?.product.model.reference }}
        </td>
      </ng-container>
      <ng-container matColumnDef="registerDate">
        <th mat-header-cell *matHeaderCellDef >
          Fecha
        </th>
        <td mat-cell *matCellDef="let defect" (click)="goDefect(defect)">
          {{ defect?.dateDetection | date:"dd/MM/yyyy"}}
        </td>
      </ng-container>
      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef >
          Estado
        </th>
        <td mat-cell *matCellDef="let defect" (click)="goDefect(defect)">
          {{ defect?.statusManagementDefect.name }}
        </td>
      </ng-container>
      <ng-container matColumnDef="contact">
        <th mat-header-cell *matHeaderCellDef >
          Contacto
        </th>
        <td mat-cell *matCellDef="let defect" (click)="goDefect(defect)">
          {{ defect?.contact?.name }}
        </td>
      </ng-container>
      <ng-container matColumnDef="print">
        <th mat-header-cell *matHeaderCellDef></th>
        <td matTooltip="Imprimir" matTooltipClass="tooltip"
            mat-cell *matCellDef="let defect">
          <i *ngIf="defect.statusManagementDefect.ticketEmit" (click)="print(defect)" class="material-icons action-icon">print</i>
        </td>
      </ng-container>
    </table>
  </div>
</ion-content>
<ion-footer class="footer-products">
  <ion-toolbar>
    <suite-paginator [pagerValues]="pagerValues"></suite-paginator>
  </ion-toolbar>
  <div class="toolbar-buttons">
    <ion-fab vertical="bottom" horizontal="end" class="horizontal-fab">
      <ion-fab-button matTooltip="Actualizar" matTooltipClass="tooltip" (click)="refresh()"><i
        class="material-icons">refresh</i></ion-fab-button>
      <ion-fab-button [routerLink]="['/incidents']">
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </div>
</ion-footer>
