<ion-content padding="true">
    <ion-text color="primary">
        <suite-breadcrumb></suite-breadcrumb>
    </ion-text>
    <ion-grid>
        <ion-row>
            <ion-col size="12">
							<mat-accordion multi="false">
								<mat-expansion-panel *ngFor="let agency of agencies">
										<mat-expansion-panel-header>
											<mat-panel-title>
													<ion-checkbox
															style="margin-right: 5px"
															(click)="activateDelete(agency.id)"
													>
													</ion-checkbox>
														{{ agency.name }}
												</mat-panel-title>
											<mat-panel-description></mat-panel-description>
										</mat-expansion-panel-header>
											<span (click)="update(agency)" class="edit"><b class="edit">Editar agencia</b></span>
											<h2 class="example-h2"> Warehouses </h2>
											<mat-selection-list #warehousesSelection *ngFor="let warehouse of warehouses;">

											<mat-list-option *ngIf="!selectCheck(warehouse.id, agency.id)" [selected]="false" [value]="warehouse.name" (click)="assignToAgency(warehouse, agency)">
												<p>{{ warehouse.reference }} {{ warehouse.name }}</p>
											</mat-list-option>

											<mat-list-option *ngIf="selectCheck(warehouse.id, agency.id)" [selected]="true" [value]="warehouse.name" (click)="removeToAgency(warehouse, agency)">
												<p>{{ warehouse.reference }} {{ warehouse.name }}</p>
											</mat-list-option>

										</mat-selection-list>
										</mat-expansion-panel>
									</mat-accordion>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
<ion-fab vertical="bottom" horizontal="end">
    <ion-fab-button matTooltip="Agregar agencia" matTooltipClass="tooltip" (click)="store()">
        <ion-icon name="add"></ion-icon>
    </ion-fab-button>
    <div style="height: 5px"></div>
    <ion-fab-button matTooltip="Eliminar seleccionado" matTooltipClass="tooltip" *ngIf="toDeleteAgency" (click)="deleteAgency()" color="danger">
        <ion-icon name="trash"></ion-icon>
    </ion-fab-button>
</ion-fab>
