<ion-content padding="true">
  <suite-breadcrumb></suite-breadcrumb>
  <ion-grid>
    <ion-row class="top">
      <ion-col size="4" class="ion-datepicker">
        <div class="append">
          <dp-date-picker [(ngModel)]="dates" [config]="calendarConfiguration" theme="dp-material"></dp-date-picker>
        </div>
      </ion-col>
      <ion-col size="2">
        <div class="text-colors">
          <p class="legend-card-text">
            <span class="legend-card-color round" style="background-color: #008000"></span>
            Pendiente de guardar
          </p>
          <p class="legend-card-text">
            <span class="legend-card-color round" style="background-color: #2196f3"></span>
            Envios permitidos
          </p>
          <p class="legend-card-text">
            <span class="legend-card-color round" style="background-color: #0b63a9"></span>
            Datos almacenados
          </p>
          <p class="legend-card-text">
            <span class="legend-card-color round" style="background-color: #ea5348"></span>
            Fechas seleccionadas
          </p>
        </div>
      </ion-col>
      <ion-col size="6" class="col-derecha">
        <ion-row>
          <ion-col size="6">
            <ion-label>Plantillas</ion-label>
          </ion-col>
          <ion-col size="6" class="button-add-plantilla">
            <ion-button matTooltip="Añadir plantilla" matTooltipClass="tooltip" [disabled]="!addWarehouses().length" (click)="storeTemplate()">Añadir plantilla</ion-button>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-list class="overAuto list-plantillas">
              <ion-item *ngFor="let template of templates;let i = index" (click)="selectTemplate(template)">
                <ion-label>{{template.name}}</ion-label>
                <ion-icon matTooltip="Eliminar Calendario {{template.name}}" matTooltipClass="tooltip" name="trash" slot="end" (click)="deleteTemplate(template.id)"></ion-icon>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-label>Tiendas y almacenes de origen</ion-label>
      </ion-col>
      <ion-col size="6">
        <ion-label>Tiendas y almacenes de destino</ion-label>
      </ion-col>
    </ion-row>
    <ion-row class="overAuto">
      <ion-col size="6">
        <ion-list>
          <form [formGroup]="selectForm">
            <ion-item lines="none">
              <mat-checkbox formControlName="isChecked">
                Seleccionar todos
              </mat-checkbox>
            </ion-item>
            <ion-item formArrayName="origins" *ngFor="let warehouse of warehousesOriginList;let i = index" lines="none">
              <ion-label lines="none" no-padding>
                <mat-checkbox [formControlName]="i">
                  {{ warehouse.reference}} {{ warehouse.name }}
                </mat-checkbox>
              </ion-label>
              <ion-icon name="arrow-forward" slot="end"></ion-icon>
            </ion-item>
          </form>
        </ion-list>
      </ion-col>
      <ion-col size="6" class="col-derecha">
        <ion-list>
          <ion-item lines="none">
          </ion-item>
          <ion-item *ngFor="let warehouse of warehousesDestinationList;let i = index" lines="none">
            <ion-label lines="none" class="ion-no-padding" *ngIf="warehouse.destinos_label != ''">
              {{ warehouse.destinos_label }}
            </ion-label>
            <ion-label lines="none" class="ion-no-padding" *ngIf="warehouse.destinos_label == ''">Seleccione destino
            </ion-label>
            <ion-icon name="create" slot="end" (click)="store(warehouse.id)"></ion-icon>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer>
  <!--<ion-fab-button style="float: right; padding: 5px;" color="light"><ion-icon name="trash"></ion-icon></ion-fab-button>-->
  <ion-fab-button matTooltip="Guardar Calendario" matTooltipClass="tooltip" style="float: right; padding: 5px;" color="light" [disabled]="!addWarehouses().length || !cantDates"
    (click)="storeDate()">
    <ion-icon name="save"></ion-icon>
  </ion-fab-button>
  <ion-fab-button matTooltip="Refrescar Calendario" matTooltipClass="tooltip" style="float: right; padding: 5px;" color="light"
    *ngIf="addWarehouses().length || cantDates || cantChecks().length > 0" (click)="clear()">
    <ion-icon name="refresh"></ion-icon>
  </ion-fab-button>
  <ion-fab-button matTooltip="Agregar destinos" matTooltipClass="tooltip" style="float: right; padding: 5px;" color="light" *ngIf="cantChecks().length > 0"
    (click)="openModalDestination()">
    <ion-icon name="albums"></ion-icon>
  </ion-fab-button>
  <ion-fab-button matTooltip="Borrar fechas seleccionadas" matTooltipClass="tooltip" style="float: right; padding: 5px;" color="light" *ngIf="ListaFechas$?.length > 0"
    (click)="deleteAllFechasSelect()">
    <ion-icon name="trash"></ion-icon>
  </ion-fab-button>
</ion-footer>
