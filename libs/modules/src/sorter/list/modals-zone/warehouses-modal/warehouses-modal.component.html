<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-button (click)="close()">
                <ion-icon name="close" class="toogleArrow"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Warehouses</ion-title>
    </ion-toolbar>
</ion-header>
<ion-content padding="true">
    <table mat-table [dataSource]="warehouses" style="width: 100%">

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="check" [formGroup]="selectedForm">

            <mat-header-cell *matHeaderCellDef (ionChange)="selectAll($event)">
                <ion-checkbox></ion-checkbox>
            </mat-header-cell>

            <mat-cell *matCellDef="let element; let i = index">
                <ng-template [ngIf]="selectedForm['controls']?.toSelect">
                    <ion-checkbox [formControl]="selectedForm['controls']?.toSelect['controls'][i]"></ion-checkbox>
                </ng-template>
            </mat-cell>

        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsWareHouse"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsWareHouse;"></tr>
    </table>
</ion-content>
<ion-footer>
    <ion-toolbar>
        <ion-button slot="end" color="light" (click)="close()">Cancelar</ion-button>
        <ion-button slot="end" color="primary" (click)="submit()">Guardar</ion-button>
    </ion-toolbar>
</ion-footer>