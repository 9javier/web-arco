<ion-content>
  <sorter-color-selector
    [colors]="colorsSelectors"
    (colorSelected)="colorSelected($event)">
  </sorter-color-selector>

  <div *ngIf="loadingSorterTemplateMatrix" class="loader-template-matrix">
    <div>
      <ion-spinner></ion-spinner>
      <p>
        Cargando plantilla actual del sorter...
      </p>
    </div>
  </div>
  <sorter-matrix-output (waySelected)="waySelected($event)"></sorter-matrix-output>

  <sorter-footer-buttons
    *ngIf="sorterProvider.colorSelected"
    [overNotification]="!!sorterProvider.colorActiveForUser"
    (operationCancel)="sorterOperationCancelled()"
    (operationStart)="sorterOperationStarted()">
  </sorter-footer-buttons>

  <sorter-notification-active-process
    *ngIf="sorterProvider.colorActiveForUser"
    [userColorActive]="sorterProvider.colorActiveForUser"
    [actionButtonText]="'FINALIZAR'"
    [message]="getMessageForNotificationActiveProcess()"
    (actionLaunched)="actionLaunched()">
  </sorter-notification-active-process>

  <ion-fab vertical="bottom" horizontal="end" *ngIf="!sorterProvider.colorActiveForUser"
           [ngClass]="sorterProvider.colorSelected ? 'float-over-notification' : ''">
    <ion-fab-button color="primary" (click)="loadDataFirst()" matTooltip="Actualizar" matTooltipClass="tooltip">
      <ion-icon name="refresh"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>
