<div class="content" [ngClass]="wrongCodeScanned ? 'wrong-code' : ''">
  <div class="store-packing" *ngIf="infoSorterOperation">
    <div class="model-data">
      <span class="store">
        <p>{{ infoSorterOperation.destinyWarehouse.reference + ' ' + infoSorterOperation.destinyWarehouse.name }}</p>
      </span>
      <span class="packing">
        {{ infoSorterOperation.packingReference || '' }}
      </span>
      <div class="color-sorter">
        <div [ngStyle]="{'background-color': sorterProvider.colorSelected.hex}"></div>
      </div>
    </div>
  </div>

  <div class="info-product-wrong-code" *ngIf="wrongCodeScanned && !packingIsFull && lastProductScannedChecking">
    <div class="store">
      <span class="store" [ngClass]="infoSorterOperation.destinyWarehouse.id != lastProductScannedChecking.destinyWarehouse.id ? 'wrong-store' : ''">
        <p>{{ lastProductScannedChecking.destinyWarehouse.reference + ' ' + lastProductScannedChecking.destinyWarehouse.name }}</p>
      </span>
      <span class="model">
        <p>
          {{ lastProductScannedChecking.model?.reference }}
        </p>
      </span>
    </div>
    <div class="product-info">
      <span class="product">
        {{ lastProductScannedChecking.reference }}
      </span>
      <span class="size">
        {{ lastProductScannedChecking.size ? 'T: ' + lastProductScannedChecking.size.name : '' }}
      </span>
    </div>
  </div>

  <p *ngIf="!isFirstProductScanned && !wrongCodeScanned && !packingIsFull && messageGuide=='ESCANEAR 1º ARTÍCULO' && processStarted" class="message-guide-finish">
    Escanea el primer artículo de la calle.
  </p>

  <p *ngIf="isFirstProductScanned && !wrongCodeScanned && !packingIsFull && !stopButtonPressed" class="message-guide-finish">
    Retira artículos del sorter hasta que se vacíe la calle o se llene la jaula.
  </p>

  <p *ngIf="isFirstProductScanned && !wrongCodeScanned && !packingIsFull && !stopButtonPressed" class="message-guide-finish">
    Retira artículos del sorter hasta que se vacíe la calle o se llene la jaula.
  </p>

  <p *ngIf="stopButtonPressed" class="message-guide-finish">
    Escanea el primer artículo de la calle para detener el proceso de salida.
  </p>

  <div class="start-message-guide" (click)="focusToInput()" *ngIf="!inputValue && !processStarted">
    <span>¡Hola </span><div class="color-selected" [ngStyle]="{'background-color': sorterProvider.colorSelected.hex}"></div><span>!</span>
    <br/>
    <span>Escanea una jaula</span>
    <br/>
    <span>para comenzar</span>
  </div>
  <p class="message-guide" (click)="focusToInput()" *ngIf="!inputValue && processStarted && !outputWithIncidencesClear" [ngClass]="wrongCodeScanned ? 'align-bottom' : ''">{{messageGuide}}</p>

  <input hideKeyboard id="input" class="output-sorter" (keyup)="keyUpInput($event)" [(ngModel)]="inputValue" (focus)="onFocus($event)" [ngClass]="wrongCodeScanned ? 'wrong-code' : ''">

  <div *ngIf="outputWithIncidencesClear" class="wrong-product-found">
    <p>Todos los artículos erróneos localizados. Presione para volver al escaneo sin incidencias.</p>
    <button (click)="finishOutputWithIncidences()">CONTINUAR SALIDA</button>
  </div>

  <sorter-footer-buttons-scanner
    *ngIf="processStarted && infoSorterOperation.packingReference"
    [leftButton]="leftButtonText"
    [leftButtonDanger]="leftButtonDanger"
    [leftButtonHidden]="hideLeftButtonFooter"
    (leftButtonAction)="packingFull()"
    [rightButton]="rightButtonText"
    [rightButtonHidden]="hideRightButtonFooter"
    (rightButtonAction)="emptyWay()">
  </sorter-footer-buttons-scanner>
</div>
