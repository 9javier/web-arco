<div class="matrix-main" *ngIf="sorterTemplateMatrix.length > 0" [ngStyle]="{'height': height || 'auto', 'width': width || 'auto'}">
  <div class="center-block">
    <p class="msg-select-zone" *ngIf="enableZoneSelection && isTemplateWithEqualZones">
      Seleccione la zona en la que trabajar
    </p>

    <div class="matrix">
      <div class="height" *ngFor="let sorterHeight of sorterTemplateMatrix; let iHeight = index">
        <div class="column"
             *ngFor="let sorterColumn of sorterHeight.columns; let iCol = index"
             [ngStyle]="{'background-color': getBackground(sorterColumn)}"
             (click)="selectWay(sorterColumn, iHeight, iCol)" >
          <div class="emptying-type">
            {{ getEmptyingType(sorterColumn) }}
          </div>
          <div class="products-qty">
            {{ sorterColumn.way.qty_products + 'p' }}
          </div>
        </div>
      </div>
      <div class="footer" [ngStyle]="{'width': (sorterTemplateMatrix[0].columns.length * 70) + 'px'}">

      </div>
    </div>
    <div class="legend">
      <div (click)="check(zoneColor)" class="zone" *ngFor="let zoneColor of listZonesWithColors; let i = index">

        <ion-item lines="none">
          <div class="color-zone" [ngStyle]="{'background-color': zoneColor.id == 0 ? 'var(--ion-color-background-zone-selected)' : zoneColor.color, 'filter': zoneColor.id == 0 ? 'grayscale(0.5)' : 'grayscale(0)'}">
          </div>
          <span class="name-zone">{{zoneColor.name}}</span>
          <ion-checkbox slot="end" [(ngModel)]="listZonesWithColors[i].checks "></ion-checkbox>
        </ion-item>
      </div>
    </div>
  </div>
</div>
