<div class="main-element-list-pickings">
  <div class="row-no-requests" *ngIf="lineRequestsByStores.length > 0">
    <ion-row>
      <ion-col size="1" class="centered-col">
        <ion-checkbox [(ngModel)]="allStoresSelected" (click)="selectAllStores()"></ion-checkbox>
      </ion-col>
      <ion-col size="11" class="centered-col">
        <mat-panel-title>Seleccionar todo</mat-panel-title>
      </ion-col>
    </ion-row>
  </div>

  <ion-progress-bar type="indeterminate" *ngIf="isLoadingData"></ion-progress-bar>

  <div class="scroll-list" [ngClass]="!lineRequestsByStores.length ? 'initiated-picking' : ''" *ngIf="!isLoadingData && (lineRequestsByStores.length > 0 || (stores.length > 0 && lineRequests.length > 0))">
    <stores-picking-task-template *ngFor="let lineRequestByStore of lineRequestsByStores" [lineRequestByStore]="lineRequestByStore" (selectStore)="selectStore($event)"></stores-picking-task-template>

    <stores-picking-task-initiated-template *ngIf="stores.length > 0 && lineRequests.length > 0" [stores]="stores" [lineRequests]="lineRequests"></stores-picking-task-initiated-template>
  </div>

  <div *ngIf="!isLoadingData && !lineRequestsByStores.length && !stores.length && !lineRequests.length" class="msg-empty-pickings">
    <p class="msg-empty-pickings">No hay traspasos pendientes para la tienda</p>
  </div>
</div>

<ion-footer class="footer-products">
  <ion-fab vertical="bottom" horizontal="end" class="horizontal-fab">
    <ion-fab-button (click)="initPicking()" *ngIf="checkLineRequestSelected()">
      <i class="material-icons">play_arrow</i>
    </ion-fab-button>
  </ion-fab>
</ion-footer>
