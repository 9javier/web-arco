<ion-item class="filters-button-row">
  <ion-label>Filtros</ion-label>
  <i class="material-icons" [ngClass]="showFilters ? 'black-background' : 'filter-icon'" (click)="showFilters = !showFilters">filter_list</i>
</ion-item>
<form *ngIf="showFilters" [formGroup]="filtersForm">
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <ion-label>Referencia:</ion-label>
        <suite-tags-input placeholder="Referencia" [options]="filterOptions.models" formControlName="models" multiple="true"></suite-tags-input>
      </ion-col>
      <ion-col size="6">
        <ion-label>Color:</ion-label>
        <suite-tags-input placeholder="Color" [options]="filterOptions.colors" formControlName="colors" multiple="true"></suite-tags-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-label>Marca:</ion-label>
        <suite-tags-input placeholder="Marca" [options]="filterOptions.brands" formControlName="brands" multiple="true"></suite-tags-input>
      </ion-col>
      <ion-col size="6">
        <ion-label>Talla:</ion-label>
        <suite-tags-input placeholder="Talla" [options]="filterOptions.sizes" formControlName="sizes" multiple="true"></suite-tags-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item formGroupName="orderBy">
          <ion-label>Ordenar por:</ion-label>
          <ion-select class="order-types" formControlName="type" interface="popover">
            <ion-select-option value="{{group.id}}" *ngFor="let group of filterOptions.orderTypes">{{group.name}}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row class="text-align-center">
      <ion-col>
        <ion-button (click)="resetFilters()">Borrar</ion-button>
      </ion-col>
      <ion-col>
        <ion-button (click)="getProducts()">Aplicar</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</form>

<ion-content>

  <ion-grid *ngIf="products.length > 0">
    <ion-row class="data-row" *ngFor="let product of products">
      <ion-row>
        <ion-col size="auto"><b>Ref:</b> {{product.model.reference}}</ion-col>
        <ion-col size="auto"><b>Color:</b> {{product.model.color.name}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="auto"><b>Marca:</b> {{product.model.brand.name}}</ion-col>
        <ion-col size="auto"><b>Talla:</b> {{product.size.name}}</ion-col>
      </ion-row>
    </ion-row>
  </ion-grid>

  <p *ngIf="products.length == 0" class="text-align-center">No hay productos no aptos online.</p>

</ion-content>

<ion-fab class="fab" vertical="bottom" horizontal="end">
  <ion-fab-button matTooltip="Reinicializar listado" matTooltipClass="tooltip" (click)="ngOnInit()">
    <ion-icon name="refresh"></ion-icon>
  </ion-fab-button>
</ion-fab>

<mat-paginator [pageSizeOptions]="pagerValues"></mat-paginator>
