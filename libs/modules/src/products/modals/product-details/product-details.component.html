<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-button (click)="close()">
                <ion-icon name="close" class="toogleArrow"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Detalles del producto</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="printProductTag()">
          <ion-icon name="print" class="toogleArrow"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-segment [(ngModel)]="section">
        <ion-segment-button value="information">
            <ion-label>Información</ion-label>
        </ion-segment-button>
        <ion-segment-button value="historical">
            <ion-label>Histórico</ion-label>
        </ion-segment-button>
    </ion-segment>
    <!--Information section-->
    <div *ngIf="section == 'information'">
        <ion-list>
            <ion-item>
                <ion-label>
                    Modelo: {{product.productShoeUnit?.model?.reference}}
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-label>
                    Color: {{product.productShoeUnit?.model?.color?.description}}
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-label>
                    Talla: {{product.productShoeUnit?.size?.number}}
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-label>
                    Almacén: {{product?.warehouse ? (product?.warehouse.reference + " - " + product?.warehouse.name) : ""}}
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-label>
                    Ubicación: {{ product?.container?.reference ? product?.container?.reference : product?.carrier?.reference ? product?.carrier?.reference : ''}}
                </ion-label>
            </ion-item>
            <div padding *ngIf="isProductRelocationEnabled">
                <ion-label class="title-section">Reubicar</ion-label>
                <div class="form-fields">
                    <ion-row>
                        <ion-col>
                            <ion-item lines="none">
                                <div slot="start" class="icon-field">
                                    <ion-icon name="home"></ion-icon>
                                </div>
                                <div class="field">
                                    <ion-select class="ion-margin-horizontal" placeholder="Almacén" interface="popover" [(ngModel)]="warehouseSelected" (ngModelChange)="changeSelect(1)">
                                        <ion-select-option *ngFor="let warehouse of listWarehouses" [value]="warehouse.id">{{warehouse.value}}</ion-select-option>
                                    </ion-select>
                                </div>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col>
                            <ion-item lines="none">
                                <div slot="start" class="icon-field">
                                    <i class="material-icons">view_module</i>
                                </div>
                                <div class="field">
                                    <ion-select class="ion-margin-horizontal" placeholder="Pasillo" interface="popover" [(ngModel)]="hallSelected" *ngIf="checkFieldIsEnabled(2)" (ngModelChange)="changeSelect(2)">
                                        <ion-select-option *ngFor="let hall of listHalls" [value]="hall.id">{{hall.value}}</ion-select-option>
                                    </ion-select>
                                </div>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col>
                            <ion-item lines="none">
                                <div slot="start" class="icon-field">
                                    <i class="material-icons">view_stream</i>
                                </div>
                                <div class="field">
                                    <ion-select class="ion-margin-horizontal" placeholder="Fila" interface="popover" [(ngModel)]="rowSelected" *ngIf="checkFieldIsEnabled(3)" (ngModelChange)="changeSelect(3)">
                                        <ion-select-option *ngFor="let row of listRows" [value]="row.row">{{row.row}}</ion-select-option>
                                    </ion-select>
                                </div>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col>
                            <ion-item lines="none">
                                <div slot="start" class="icon-field">
                                    <i class="material-icons">view_column</i>
                                </div>
                                <div class="field">
                                    <ion-select class="ion-margin-horizontal" placeholder="Columna" interface="popover" [(ngModel)]="columnSelected" *ngIf="checkFieldIsEnabled(4)" (ngModelChange)="changeSelect(4)">
                                        <ion-select-option *ngFor="let column of listColumns" [value]="column.column">{{column.column}}</ion-select-option>
                                    </ion-select>
                                </div>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                </div>
                <div class="btn-move-product">
                    <ion-row>
                        <ion-col size="6" class="btn-close">
                            <ion-button color="secondary" (click)="resetDataMovement()">
                                Cancelar
                            </ion-button>
                        </ion-col>
                        <ion-col size="6" class="btn-save">
                            <ion-button color="tertiary" (click)="saveDataMovement(product)">
                                Guardar
                            </ion-button>
                        </ion-col>
                    </ion-row>
                </div>
            </div>
        </ion-list>
    </div>
    <!--Historical section-->
    <div *ngIf="section == 'historical'">
        <ion-list>
            <ion-item *ngFor="let historical of productHistorical">
                <div>
                    <p>
                        Almacén {{ historical.destinationWarehouse.reference }} - {{ historical.destinationWarehouse.name }}
                    </p>
                    <p>
                        Ubicación: {{ historical.destinationContainer ? historical.destinationContainer.reference: (historical.destinationCarrier ? historical.destinationCarrier.reference: historical.destinationPallet?.reference) }}
                    </p>
                    <p>
                        Acción realizada: {{actionTypes[historical.typeAction]}}
                    </p>
                </div>
            </ion-item>
        </ion-list>
    </div>
</ion-content>
<ion-footer>
</ion-footer>
