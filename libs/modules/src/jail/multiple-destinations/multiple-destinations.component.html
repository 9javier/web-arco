<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="close()">
        <ion-icon name="close" class="toogleArrow"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Precintado de embalajes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding="false">
  <mat-list>
    <h3 matSubheader>
      Embalajes a precintar
    </h3>
    <mat-list-item *ngFor="let packingWoDestiny of ListToAddDestiny; index as i">
      <label>{{packingWoDestiny.reference}} → </label>
      <mat-form-field id="form01">
        <mat-label>Asignar destino</mat-label>
        <mat-select (selectionChange)="selectDestiny($event,packingWoDestiny)">
          <mat-option *ngFor="let warehouse of getWarehousesForPacking(packingWoDestiny.idWarehouse)" [value]="warehouse">
            {{warehouse.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-list-item>
    <mat-list-item *ngFor="let packingWithDestiny of ListToSeal; index as i">
      <label class="lblReference">{{packingWithDestiny.reference}} → </label>
      <label>{{packingWithDestiny.idWarehouseName}} </label>
    </mat-list-item>

    <mat-divider *ngIf="ListNoProducts.length > 0"></mat-divider>

    <h3 matSubheader *ngIf="ListNoProducts.length > 0">
      Embalajes que no se pueden precintar
    </h3>
    <mat-list-item *ngFor="let packingNoSeal of ListNoProducts; index as i">
      <mat-icon mat-list-icon>{{packingNoSeal.icon}}</mat-icon>
      <h4 mat-line>{{packingNoSeal.reference}}</h4>
      <p mat-line>{{packingNoSeal.mesage}} </p>
    </mat-list-item>
  </mat-list>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-button slot="end" color="light" (click)="close()">Cancelar</ion-button>
    <ion-button *ngIf="ListToAddDestiny.length > 0 || ListToSeal.length > 0" slot="end" color="primary"
                (click)="submit()">Precintar
    </ion-button>
  </ion-toolbar>
</ion-footer>
