<ion-content>
  <h3 class="title-h3-table" padding>{{title}}</h3>
  <div class="table-container" *ngIf="dataSourceUsers">
    <mat-table [dataSource]="dataSourceUsers">
      <ng-container matColumnDef="user">
        <mat-header-cell *matHeaderCellDef>Usuario</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.userName}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="warehouse">
        <mat-header-cell *matHeaderCellDef>Almac√©n</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.warehouseName}} </mat-cell>
      </ng-container>
      <ng-container *ngFor="let role of dataSourceRoles;let i = index" matColumnDef="{{ role.id }}">
        <mat-header-cell *matHeaderCellDef class="centre-header">{{ role.name }}</mat-header-cell>
        <mat-cell *matCellDef="let element; let id = index" class="centre-cell">
          <mat-checkbox [ngModel] = element.roles[i].checked (change)="changeCheckRol($event, id, element, i)"></mat-checkbox>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>
</ion-content>
<ion-fab vertical="bottom" horizontal="end">
  <ion-fab-button *ngIf="listToUpdate.length > 0" color="dark"  matTooltip="Guardar" matTooltipClass="tooltip" matTooltipPosition="left" (click)="saveChanges($event)">
    <ion-icon name="save"></ion-icon>
  </ion-fab-button>
  <div style="height: 5px"></div>
  <ion-fab-button color="dark"  matTooltip="Agregar" matTooltipClass="tooltip" matTooltipPosition="left" (click)="addNewRol()">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
  <div style="height: 5px"></div>
  <ion-fab-button color="dark"  matTooltip="Limpiar" matTooltipClass="tooltip" matTooltipPosition="left" (click)="refreshAll()">
    <ion-icon name="refresh"></ion-icon>
  </ion-fab-button>
</ion-fab>
<!--<ion-content>-->
<!--  <h3 class="title-h3-table" padding>{{title}}</h3>-->
<!--  <div class="table-container" *ngIf="dataSourceUsers">-->
<!--    <mat-table [dataSource]="dataSourceUsers">-->
<!--      <ng-container matColumnDef="warehouse">-->
<!--        <mat-header-cell *matHeaderCellDef>Warehouse</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let element"> {{element.warehouseName}} </mat-cell>-->
<!--      </ng-container>-->
<!--      <ng-container *ngFor="let role of dataSourceRoles;let i = index" matColumnDef="{{ role.id }}">-->
<!--        <mat-header-cell *matHeaderCellDef class="centre-header">{{ role.name }}</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let element; let id = index" class="centre-cell">-->
<!--          <mat-checkbox [ngModel] = element.roles[i].checked (change)="changeCheckRol($event, id, element, i)"></mat-checkbox>-->
<!--        </mat-cell>-->
<!--      </ng-container>-->
<!--      <ng-container matColumnDef="clear">-->
<!--        <mat-header-cell *matHeaderCellDef class="centre-header">Limpiar</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let element; let id = index" class="centre-cell buttons">-->
<!--          <div class="content-button-cell">-->
<!--            <button matTooltip="Limpiar" matTooltipClass="tooltip" mat-icon-button (click)="clearRow(id, element)">-->
<!--              <mat-icon class="mat-18">undo</mat-icon>-->
<!--            </button>-->
<!--          </div>-->
<!--        </mat-cell>-->
<!--      </ng-container>-->

<!--      <ng-container matColumnDef="delete">-->
<!--        <mat-header-cell *matHeaderCellDef class="centre-header">Eliminar</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let element; let id = index" class="centre-cell buttons">-->
<!--          <div class="content-button-cell">-->
<!--            <button matTooltip="Eliminar" matTooltipClass="tooltip" mat-icon-button (click)="deleteRow(id, element)">-->
<!--              <mat-icon class="mat-18">delete</mat-icon>-->
<!--            </button>-->
<!--          </div>-->
<!--        </mat-cell>-->
<!--      </ng-container>-->

<!--      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>-->
<!--      <mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{ 'collapsed': !row.expanded }"></mat-row>-->
<!--      <ng-container matColumnDef="groupHeader">-->
<!--        <mat-cell colspan="999" *matCellDef="let group" (click)="groupHeaderClick(group)">-->
<!--          <mat-icon *ngIf="group.expanded" [class.opacity-icon]="!group.hasPermits">expand_less</mat-icon>-->
<!--          <mat-icon *ngIf="!group.expanded" [class.opacity-icon]="!group.hasPermits">expand_more</mat-icon>-->
<!--          <strong>{{group.userName}} {{group.hasPermits ? '' : ' &#45;&#45;&#45;&#45; No tiene roles asignados'}}</strong>-->
<!--        </mat-cell>-->
<!--      </ng-container>-->
<!--      <ng-container matColumnDef="buttonGroup">-->
<!--        <mat-cell colspan="999" *matCellDef="let group; let id = index">-->
<!--          <button *ngIf="!group.hasAllWarehouse" class="button-add-role" matTooltip="Agregar" matTooltipClass="tooltip" mat-icon-button (click)="addRol(id, group)">-->
<!--            <mat-icon class="mat-18">add</mat-icon>-->
<!--          </button>-->
<!--        </mat-cell>-->
<!--      </ng-container>-->
<!--      <mat-row *matRowDef="let row; columns: ['groupHeader', 'buttonGroup']; when: isGroup"> </mat-row>-->
<!--    </mat-table>-->
<!--  </div>-->
<!--</ion-content>-->

<!--<ion-fab vertical="bottom" horizontal="end" class="horizontal-fab" *ngIf="listToUpdate.length > 0">-->
<!--  <ion-fab-button color="light"  matTooltip="Guardar" matTooltipClass="tooltip"  (click)="saveChanges($event)">-->
<!--    <ion-icon name="save"></ion-icon>-->
<!--  </ion-fab-button>-->
<!--</ion-fab>-->

