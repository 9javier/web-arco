<ion-content [ngClass]="{'ion-padding': typeScreen == undefined}" >

  <ng-container *ngIf="typeScreen == undefined; else screen">
    <ion-grid fixed>
      <ion-row class="row-selectors">
        <form>
          <div>
            <mat-form-field id="expeditionReference">
              <mat-label>NÂº Expedicion</mat-label>
              <input #expedition type="text" matInput (focusin)="changeShowCheck()">
            </mat-form-field>
            <i slot="end" class="material-icons" (click)="openVirtualKeyboard(null, objectType.EXPEDITION_NUMBER)" id="expeditionKeyboard">keyboard</i>
          </div>
          <div>
            <mat-form-field id="providerSelector">
              <mat-label>Proveedor</mat-label>
              <input #provider type="text" matInput [formControl]="myControl" [matAutocomplete]="auto" (focusin)="changeShowCheck()">
              <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                <mat-option *ngFor="let provider of filteredProviders | async" [value]="provider">
                  {{provider.name}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
            <i slot="end" class="material-icons" (click)="openVirtualKeyboard(providers, objectType.PROVIDER)" id="providerKeyboard">keyboard</i>
          </div>
          <div>
            <div>
              <ion-button (click)="loadProvider()" [ngClass]="showCheck ? '' : 'hide'">comprobar</ion-button>
              <ion-button (click)="returnHome()" [ngClass]="isProviderAvailable ? '' : 'hide'">resetear</ion-button>
            </div>
          </div>
        </form>
      </ion-row>

      <ion-row *ngIf="isProviderAvailable" class="ion-margin-top">
        <ion-col size="4">
          <ion-item lines="none" (click)="openVirtualKeyboard(response.brands, objectType.BRAND)">
            <ion-title> Marcas </ion-title>
            <i slot="end" class="material-icons">keyboard</i>
          </ion-item>
          <suite-lists type="brands"></suite-lists>
        </ion-col>

        <ion-col size="4">
          <ion-item lines="none" (click)="openVirtualKeyboard(response.models, objectType.MODEL)">
            <ion-title> Modelos </ion-title>
            <i slot="end" class="material-icons">keyboard</i>
          </ion-item>
          <suite-lists type="models" ></suite-lists>
        </ion-col>

        <ion-col size="4">
          <ion-item lines="none" (click)="openVirtualKeyboard(response.colors, objectType.COLOR)">
            <ion-title> Colores </ion-title>
            <i slot="end" class="material-icons">keyboard</i>
          </ion-item>
          <suite-lists type="colors"></suite-lists>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="isProviderAvailable">
        <ion-col size="4" id="pictureContainer">
          <div>
            <ion-img *ngIf="response.image" [src]="response.image"></ion-img>
          </div>
        </ion-col>

        <ion-col size="4" id="sizeContainer" align-self-end>
          <ion-row>
            <suite-sizes [hidden]="!(result.brandId && result.modelId && result.colorId)"></suite-sizes>
          </ion-row>
          <ion-row>
            <ion-item lines="none">
              <ion-label>EAN:</ion-label>
              <ion-input [(ngModel)]="result.ean" type="text" ></ion-input>
            </ion-item>
          </ion-row>
        </ion-col>

        <ion-col size="4" id="printContainer">
          <div class="refresh-search-more">
            <ion-button (click)="resetAll()" id="refresh">
              <ion-icon name="refresh"></ion-icon>
            </ion-button>
            <ion-button class="ion-float-end" (click)="buscarMas()">buscar mas</ion-button>
          </div>
          <ion-button (click)="enviar()" id="print"> imprimir </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>

  </ng-container>

  <ng-template #screen>
    <suite-screen-result [type]="typeScreen" (screenExit)="screenExit($event)"></suite-screen-result>
  </ng-template>
</ion-content>
