<ion-header>
  <ion-toolbar color="primary">
    <ion-title> {{title}} </ion-title>
    <ion-buttons slot="end">
      <ion-button matTooltip="Cerrar" matTooltipClass="tooltip" (click)="close()">
        <ion-icon name="close" class="toogleArrow"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <p *ngIf="expedition" class="title">Expedición consultada</p>
  <mat-card *ngIf="expedition">
    <mat-card-header>
      <mat-card-title># {{expedition.reference}}</mat-card-title>
      <mat-card-subtitle>{{expedition.provider_name}}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p>
        Nº palets total: <span>{{expedition.expeditionPallets}}</span>
      </p>
      <p>
        Nº bultos total: <span>{{expedition.expeditionPackings}}</span>
      </p>
      <p>
        Estados: <span>{{stringStates(expedition.expeditionStates)}}</span>
      </p>
      <p>
        Nº bultos de la expedición: <span>{{expedition.total_packing}}</span>
      </p>
      <p>
        Fecha de envío: <span>{{dateTimeParserService.date(expedition.delivery_date)}}</span>
      </p>
      <p>
        Transportista: <span>{{expedition.shipper}}</span>
      </p>
      <p>
        Estados de la expedición: <span>{{stringStates(expedition.states_list)}}</span>
      </p>
      <p class="blocked" *ngIf="!expedition.reception_enabled">
        <span> Esta expedición se encuentra bloqueada </span>
      </p>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button [disabled]="!expedition.reception_enabled" (click)="reception(expedition)">
        RECEPCIONAR
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>

  <p *ngIf="anotherExpeditions && anotherExpeditions.length > 0 && expedition" class="title">{{titleAnotherExpeditions}}</p>
  <mat-card *ngFor="let anotherExpedition of anotherExpeditions">
    <mat-card-header>
      <mat-card-title># {{anotherExpedition.reference}}</mat-card-title>
      <mat-card-subtitle>{{anotherExpedition.provider_name}}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p>
        Nº palets total: <span>{{anotherExpedition.expeditionPallets}}</span>
      </p>
      <p>
        Nº bultos total: <span>{{anotherExpedition.expeditionPackings}}</span>
      </p>
      <p>
        Estados: <span>{{stringStates(anotherExpedition.expeditionStates)}}</span>
      </p>
      <p>
        Nº bultos de la expedición: <span>{{anotherExpedition.total_packing}}</span>
      </p>
      <p>
        Fecha de envío: <span>{{dateTimeParserService.date(anotherExpedition.delivery_date)}}</span>
      </p>
      <p>
        Transportista: <span>{{anotherExpedition.shipper}}</span>
      </p>
      <p>
        Estados de la expedición: <span>{{stringStates(anotherExpedition.states_list)}}</span>
      </p>
      <p class="blocked" *ngIf="!anotherExpedition.reception_enabled">
        <span> Esta expedición se encuentra bloqueada </span>
      </p>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button [disabled]="!anotherExpedition.reception_enabled" (click)="reception(anotherExpedition)">
        RECEPCIONAR
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</ion-content>
