<ion-content>
  <div class="incidences-container mat-elevation-z8">
    <mat-table [dataSource]="incidences" class="table-incidences">
      <!-- Fixed columns with info about the incidence -->
      <ng-container matColumnDef="id">
        <mat-header-cell class="my-sticky-col info number" *matHeaderCellDef>Nº incidencia</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info number"> #{{element.id}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="type">
        <mat-header-cell class="my-sticky-col info type" *matHeaderCellDef>Tipo de incidencia</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info type"> {{element.type}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="process">
        <mat-header-cell class="my-sticky-col info process" *matHeaderCellDef>Operación</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info process"> {{element.process}} </mat-cell>
      </ng-container>

      <!-- Columns with info about product assigned to the incidence -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef class="info-product">Fecha</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.date}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="time">
        <mat-header-cell *matHeaderCellDef class="info-product">Hora</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.time}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="user">
        <mat-header-cell *matHeaderCellDef class="info-product">Usuario</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.user.name}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="code">
        <mat-header-cell *matHeaderCellDef class="info-product reference">Código único</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product reference"> {{element.product.reference}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="model">
        <mat-header-cell *matHeaderCellDef class="info-product">Artículo</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.model.reference}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="size">
        <mat-header-cell *matHeaderCellDef class="info-product">Talla</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.size}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="brand">
        <mat-header-cell *matHeaderCellDef class="info-product">Marca</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.brand}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="model-name">
        <mat-header-cell *matHeaderCellDef class="info-product">Modelo</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.model.name}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="color">
        <mat-header-cell *matHeaderCellDef class="info-product">Color</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.color}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="lifestyle">
        <mat-header-cell *matHeaderCellDef class="info-product">Lifestyle</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.lifestyle}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="season">
        <mat-header-cell *matHeaderCellDef class="info-product">Temporada</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.season}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="warehouse">
        <mat-header-cell *matHeaderCellDef class="info-product">Almacén</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.location.warehouse}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="location">
        <mat-header-cell *matHeaderCellDef class="info-product">Ubicación/Jaula</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.location.location || '-'}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="destiny">
        <mat-header-cell *matHeaderCellDef class="info-product">Destino</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.destiny || '-'}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="sorter-way">
        <mat-header-cell *matHeaderCellDef class="info-product">Calle sorter</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.sorterWay || '-'}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="history">
        <mat-header-cell *matHeaderCellDef class="info-product">Historial</mat-header-cell>
        <mat-cell *matCellDef="let element" class="info-product"> {{element.product.history}} </mat-cell>
      </ng-container>

      <!-- Fixed columns with info about the status of incidence -->
      <ng-container matColumnDef="status">
        <mat-header-cell class="my-sticky-col info-status status" *matHeaderCellDef>Estado</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info-status status"> {{element.status.status}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="user-status">
        <mat-header-cell class="my-sticky-col info-status user-status" *matHeaderCellDef>Usuario</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info-status user-status"> {{element.status.user.name || '-'}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="date-status">
        <mat-header-cell class="my-sticky-col info-status date-status" *matHeaderCellDef>Fecha</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info-status date-status"> {{element.status.date || '-'}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="time-status">
        <mat-header-cell class="my-sticky-col info-status time-status" *matHeaderCellDef>Hora</mat-header-cell>
        <mat-cell *matCellDef="let element" class="my-sticky-col info-status time-status"> {{element.status.time || '-'}} </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;" class="incidence-row">
      </mat-row>
    </mat-table>
  </div>
</ion-content>

<!--<div class="table-container mat-elevation-z8">
    <suite-paginator [pagerValues]="[10, 20, 50]"></suite-paginator>
</div>-->
