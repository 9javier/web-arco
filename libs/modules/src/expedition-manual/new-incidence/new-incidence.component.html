<ion-header>
  <ion-toolbar color="primary">
      <ion-buttons slot="start">
          <ion-button (click)="close()">
              <ion-icon name="close" class="toogleArrow"></ion-icon>
          </ion-button>
      </ion-buttons>
      <ion-title>Crear Incidencia</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <form [formGroup]="form">
    <ion-item lines="none">
      <h2>Datos del envio</h2>
    </ion-item>
    <ion-item>
      <ion-label class="label-text">Marketplace</ion-label>
        <ion-select formControlName="marketId" name='marketId' placeholder="Selecciona" #selectMarket (ionChange)="operatorsSelected(selectMarket.value)">
          <ion-select-option *ngFor="let market of markets" [value]="market">{{market.name}}</ion-select-option>
        </ion-select>
    </ion-item>
    <ion-item id="selected-operator">
      <ion-label>Tienda origen</ion-label>
      <ion-select formControlName="warehouseOrigin" name='warehouseOrigin' placeholder="Selecciona" #selectOrigen (ionChange)="warehousesSelected(selectOrigen.value)">
        <ion-select-option *ngFor="let warehouse of warehouses" [value]="warehouse">{{warehouse.name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="referenceExpedition"   placeholder="Referencia Expedicion"  name="name"  maxlength="50"></ion-input><br>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="packages"   placeholder="Numero de bultos"  name="name"  maxlength="50"></ion-input><br>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="packagesReference"   placeholder="Referencia de bultos"  name="name"  maxlength="50"></ion-input><br>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="packagesWeight"   placeholder="Peso bulto"  name="name"></ion-input><br>
    </ion-item>
    <ion-item>
      <ion-label class="label-text">Operadores logisticos</ion-label>
      <ion-select formControlName="operator" name='operator' placeholder="Selecciona" #selectOperators (ionChange)="operatorsSelected(selectOperators.value)">
        <ion-select-option *ngFor="let logisticOperator of logisticsOperators">{{logisticOperator.name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item lines="none">
      <h2>Datos de destino</h2>
    </ion-item>
    <ion-item>
      <ion-label class="label-text">Tienda destino</ion-label>
      <ion-select formControlName="warehouseDestiny" name='warehouseDestiny' placeholder="Selecciona">
        <ion-select-option *ngFor="let warehouse of warehouses" [value]="warehouse">{{warehouse.name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="name"   placeholder="Nombre"  name="name"  maxlength="50"></ion-input><br>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="lastname"   placeholder="Apellidos"  name="lastname" maxlength="50"></ion-input><br>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="dni"    placeholder="DNI"  name="dni" maxlength="25"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="tel"  formControlName="phone"   placeholder="Telefono"  name="phone" maxlength="25"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="direction"   placeholder="Direccion" name="direction" maxlength="25"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-input type="text" formControlName="postalcode"  placeholder="C.P."  name='postalcode' maxlength="25"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label class="label-text">Provincia</ion-label>
      <ion-select formControlName="province" name='province' placeholder="Selecciona" #selectProvince (ionChange)="operatorsSelected(selectProvince.value)">
        <ion-select-option *ngFor="let province of provinces" [value]="province">{{province.name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label class="label-text">Pais</ion-label>
      <ion-select formControlName="country" name='country' placeholder="Selecciona" #selectCountry (ionChange)="operatorsSelected(selectCountry.value)">
        <ion-select-option *ngFor="let country of countries" [value]="country">{{country.name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-button   expand="block" shape="round" (click)="save()">Generar expedicion</ion-button>
    </form>
</ion-content>

